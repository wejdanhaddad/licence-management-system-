{% extends 'base.html.twig' %}

{% block title %}Services par Cat√©gorie{% endblock %}

{% block body %}
<div class="container my-5 p-4" style="background-color: #ffffff; border-radius: 15px; box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);">
    <h1 class="mb-4 text-center" style="color: #075f5e; font-family: 'Poppins', sans-serif; font-size: 2.2rem; font-weight: 600;">
        üîç Rechercher un Service par Cat√©gorie
    </h1>

    <!-- üåü Formulaire de recherche -->
    <div class="card p-4 mb-4 shadow-sm" style="border-radius: 10px; background-color: #f8f9fa;">
        {{ form_start(form) }}
        <div class="row g-3 align-items-end">
            <div class="col-md-8">
                {{ form_row(form.category, {
                    'attr': {
                        'class': 'form-control shadow-sm',
                        'placeholder': 'S√©lectionnez une cat√©gorie...',
                        'style': 'border: 2px solid #075f5e; border-radius: 8px; padding: 12px;'
                    }
                }) }}
            </div>
            <div class="col-md-4">
                <button type="submit" class="btn btn-primary w-100 py-2" 
                        style="background-color: #075f5e; color: #fff; border-radius: 8px; font-weight: 500;">
                    üîç Rechercher
                </button>
            </div>
        </div>
        {{ form_end(form) }}
    </div>

    <!-- üåü Liste des services -->
    {% if services %}
        <div class="table-responsive">
            <table id="services" class="table table-hover text-center align-middle">
                <thead class="text-white" style="background-color: #075f5e;">
                    <tr>
                        <th>Nom du Service</th>
                        <th>Actions</th>
                    </tr>
                </thead>
                <tbody>
                    {% for service in services %}
                        <tr>
                            <td style="font-weight: 500; color: #333;">{{ service.name }}</td>
                            <td>
                                <a href="{{ path('service_details', {'id': service.id}) }}" 
                                   class="btn btn-outline-primary btn-sm px-3"
                                   style="border-radius: 8px; font-weight: 500;">
                                    üëÄ Voir D√©tails
                                </a>
                            </td>
                        </tr>
                    {% endfor %}
                </tbody>
            </table>
        </div>
    {% else %}
        <div class="alert alert-info text-center mt-4" 
             style="background-color: #e3f2fd; color: #075f5e; border-radius: 10px; font-weight: 500;">
            Aucun service trouv√© pour cette cat√©gorie.
        </div>
    {% endif %}
</div>

<style>
    /* üåü Effet sur les lignes du tableau */
    table tbody tr:hover {
        background-color: rgba(7, 95, 94, 0.1);
        transition: background-color 0.3s ease-in-out;
    }

    /* üåü Effet sur le bouton Voir D√©tails */
    .btn-outline-primary:hover {
        background-color: #075f5e !important;
        color: white !important;
    }
</style>

{% endblock %}
